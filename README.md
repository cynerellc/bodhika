# Bodhika Server

WebSocket server for Bodhika AI Science Teacher that connects ESP32 devices with Gemini Live Audio.

## Setup

1. Copy `.env.example` to `.env` and add your Gemini API key
2. Install dependencies: `npm install`
3. Copy `textbook.json` from the indexer to `/data/textbook.json`
4. Start server: `npm start`

## Data Directory

The server expects the following structure:

```
server/
├── src/           # Source code
├── data/          # Data files
│   └── textbook.json  # Generated by indexer
├── system-prompt.md   # AI teacher instructions
└── package.json
```

## Textbook Data

The `textbook.json` file should be generated using the indexer application:

1. Run the indexer at http://localhost:3003
2. Generate embeddings
3. Download the resulting `textbook.json`
4. Copy it to `server/data/textbook.json`

## Notes

- The server will run without textbook.json but won't have search capabilities
- Vector search currently uses text matching (embeddings are for future enhancement)
- Audio format: 16kHz input, 24kHz output